<template>
  <lightning-card title="Filters">
    <table>
      <tbody>
        <tr>
          <td width="25%">
            <lightning-dual-listbox
              name="host"
              label="Hosts"
              source-label="Available"
              selected-label="Selected"
              field-level-help="Select Hosts to filter to"
              options={hostOptions}
              onchange={handleHostChange}
            ></lightning-dual-listbox>
          </td>
          <td width="25%">
            <lightning-dual-listbox
              name="nation"
              label="Nations"
              source-label="Available"
              selected-label="Selected"
              field-level-help="Select Nations to filter to"
              options={nationOptions}
              onchange={handleNationChange}
            ></lightning-dual-listbox>
          </td>
          <td width="25%">
            <lightning-dual-listbox
              name="season"
              label="Season"
              source-label="Available"
              selected-label="Selected"
              field-level-help="Select Seasons to filter to"
              options={seasonOptions}
              onchange={handleSeasonChange}
            ></lightning-dual-listbox>
          </td>
          <td>
            <lightning-combobox
              name="progress"
              label="Ski"
              value="in all"
              placeholder="Select Ski"
              options={skiOptions}
              onchange={handleSkiChange}
            ></lightning-combobox>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <lightning-button
              variant="brand"
              label="Render"
              title="Primary action"
              onclick={filtersUpdated}
              class="slds-var-m-left_x-small"
            ></lightning-button>
          </td>
        </tr>
      </tbody>
    </table>
  </lightning-card>

  <lightning-layout>
    <lightning-layout-item size="2">
      <ul class="slds-list_dotted">
        <template for:each={pagesWithState} for:item="page">
          <li key={page.id}>
            <a
              href="javascript:void(0);"
              data-id={page.id}
              onclick={handleNavClick}
              >{page.id}</a
            >
          </li>
        </template>
      </ul>
    </lightning-layout-item>
    <lightning-layout-item size="10">
      <template for:each={pagesWithState} for:item="page">
        <div key={page.id} data-page={page.id} class={page.cssClass}>
          <lightning-card title="Chart Series" icon-name={page.iconName}>
            <lightning-layout>
              <template for:each={page.chartList} for:item="chart">
                <lightning-layout-item size="6" key={chart.id}>
                  <div class={chart.cssClass} lwc:dom="manual"></div>
                </lightning-layout-item>
              </template>
            </lightning-layout>
          </lightning-card>
        </div>
      </template>
    </lightning-layout-item>
  </lightning-layout>
</template>
